!function(t){var e={};function s(i){if(e[i])return e[i].exports;var h=e[i]={i:i,l:!1,exports:{}};return t[i].call(h.exports,h,h.exports,s),h.l=!0,h.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)s.d(i,h,function(e){return t[e]}.bind(null,h));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var i=class{constructor(t){this.game=t,this.pos=[0,500],this.img=new Image,this.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580246306/tile003_pgcjmz.png",this.destroyed=!1,this.canvas=document.getElementById("game-canvas"),this.ctx=this.canvas.getContext("2d"),this.size=[70,70],this.damage=20,this.starting=!0,this.hp=70}draw(){this.ctx.beginPath(),this.ctx.lineWidth="7",this.hp>35?this.ctx.strokeStyle="lightgreen":this.hp<=35&&this.hp>17.5?this.ctx.strokeStyle="orange":this.ctx.strokeStyle="red",this.ctx.rect(this.pos[0],this.pos[1],this.hp/50*75,4),this.ctx.closePath(),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.lineWidth="1",this.hp>35?this.ctx.strokeStyle="green":this.hp<=35&&this.hp>17.5?this.ctx.strokeStyle="darkorange":this.ctx.strokeStyle="darkred",this.ctx.rect(this.pos[0]-5,this.pos[1]-5,115,14),this.ctx.closePath(),this.ctx.stroke(),this.ctx.drawImage(this.img,this.pos[0],this.pos[1]+10,this.size[0],this.size[1])}shootEnemy(t,e){t>this.pos[0]-this.size[0]/1.75&&t<=this.pos[0]+this.size[0]/1.75&&e>this.pos[1]-this.size[1]/1.75&&e<=this.pos[0]+this.size[0]/1.75&&(this.hp-=20,this.hp<=0&&(this.destroyed||(this.game.killedEnemies+=1),this.destroy()))}destroy(){this.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580322609/tile014_smzvv7.png",this.destroyed=!0}};var h=class{constructor(t,e){this.mouse=[t-240,e-90],this.canvas=document.getElementById("game-canvas"),this.ctx=this.canvas.getContext("2d"),this.point=window.innerWidth}draw(){this.bulletPath()}bulletPath(){this.ctx.beginPath();let t=this.point/2,e=this.mouse[0],s=this.mouse[1];this.ctx.moveTo(t,window.innerHeight),this.ctx.lineTo(e,s),this.ctx.lineWidth=10,this.ctx.strokeStyle="#FF00FF",this.ctx.stroke()}};var n=class extends i{constructor(t){super(t),this.pos=[0,200],this.img=new Image,this.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580408046/ezgif.com-crop_akgdpb.gif",this.size=[100,100],this.damage=50,this.up=!0,this.timesHit=0,this.hp=100}draw(){this.ctx.beginPath(),this.ctx.lineWidth="7",this.hp>35?this.ctx.strokeStyle="lightgreen":this.hp<=35&&this.hp>17.5?this.ctx.strokeStyle="orange":this.ctx.strokeStyle="red",this.ctx.rect(this.pos[0],this.pos[1],this.hp/100*105,4),this.ctx.closePath(),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.lineWidth="1",this.hp>35?this.ctx.strokeStyle="green":this.hp<=35&&this.hp>17.5?this.ctx.strokeStyle="darkorange":this.ctx.strokeStyle="darkred",this.ctx.rect(this.pos[0]-5,this.pos[1]-5,115,14),this.ctx.closePath(),this.ctx.stroke(),this.ctx.drawImage(this.img,this.pos[0],this.pos[1]+10,this.size[0],this.size[1])}destroy(){this.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580410322/ezgif.com-crop_1_rouon0.gif",this.destroyed=!0}};var o=class{constructor(t){this.canvas=t,t.width=1200,t.height=700,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="lightgreen",this.ctx.font="50px Comic Sans MS",this.enemies=[new i(this)],this.flyingEnemies=[],this.killedEnemies=0,this.health=1e3,this.score=0,this.difficulty=1e3,this.createEnemy=setInterval(()=>{Math.random()>.7&&this.enemies.push(new i(this))},this.difficulty),setTimeout(this.createFlyingEnemy=setInterval(()=>{Math.random()>.9&&this.flyingEnemies.push(new n(this))},this.difficulty),100)}drawEnemies(){this.enemies.map(t=>{t instanceof n||(t.destroyed?(this.killedEnemies+=1,this.difficulty=this.difficulty-2*this.killedEnemies,this.score+=t.damage,t.draw(),setTimeout(this.enemies.splice(this.enemies.indexOf(t),1),2e3)):(t.draw(),t.pos[0]+=10),t.pos[1]-=5,t.pos[1]<500&&(t.pos[1]+=10))}),this.flyingEnemies.map(t=>{t.destroyed?(this.killedEnemies+=1,this.difficulty=this.difficulty-2*this.killedEnemies,this.score+=t.damage,t.draw(),setTimeout(this.flyingEnemies.splice(this.flyingEnemies.indexOf(t),1),3e3)):t.up?(t.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580408046/ezgif.com-crop_akgdpb.gif",t.up=!1,t.draw(),t.pos[0]+=10):(t.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580408870/ezgif.com-crop_bikubg.gif",t.up=!0,t.draw(),t.pos[0]+=10),t.pos[1]<200?t.pos[1]+=40:t.pos[1]-=40})}move(t){t.clearRect(0,0,this.canvas.width,this.canvas.height),this.health<500&&this.health>250?this.ctx.fillStyle="orange":this.health<250&&(this.ctx.fillStyle="red"),t.fillText(`HP:${this.health}/1000`,50,50),t.fillText(`Score:${this.score}`,100,100),this.drawEnemies()}HP(){if(this.enemies.concat(this.flyingEnemies).forEach(t=>{t.pos[0]>=1150&&(this.health-=t.damage,this.enemies.splice(this.enemies.indexOf(t),1))}),this.health<10){document.getElementById("game-canvas").style.display="none";const t=document.getElementById("menu");t.style.display="flex";let e=document.createElement("H1"),s=document.createTextNode(`Your final score: ${this.score}!`);e.appendChild(s),t.appendChild(e)}else setTimeout(()=>this.HP(),3e3)}start(){let t=this.ctx;setInterval(()=>{this.move(t)},this.difficulty-500)}play(){let t=this.enemies;document.getElementById("game-canvas").addEventListener("click",e=>{let s=new h(e.clientX,e.clientY);s.draw(),t.forEach(t=>{t.shootEnemy(s.mouse[0],s.mouse[1])})},!1);let e=this.flyingEnemies;document.getElementById("game-canvas").addEventListener("click",t=>{let s=new h(t.clientX,t.clientY);s.draw(),e.forEach(t=>{t.shootEnemy(s.mouse[0],s.mouse[1])})},!1)}};document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("game-canvas");document.getElementById("start-button").addEventListener("click",e=>{document.getElementById("menu").style.display="none",document.getElementById("game-canvas").style.display="flex";const s=new o(t);s.start(),s.play(),s.HP()})})}]);
//# sourceMappingURL=main.js.map