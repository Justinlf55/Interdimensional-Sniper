!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t){},function(e,t,i){"use strict";i.r(t);var s=class{constructor(e){this.game=e,this.pos=[0,500],this.img=new Image,this.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580246306/tile003_pgcjmz.png",this.destroyed=!1,this.canvas=document.getElementById("game-canvas"),this.ctx=this.canvas.getContext("2d"),this.size=[70,70],this.damage=20,this.starting=!0}draw(){this.ctx.drawImage(this.img,this.pos[0],this.pos[1],this.size[0],this.size[1])}shootEnemy(e,t){e>this.pos[0]-this.size[0]/1.75&&e<=this.pos[0]+this.size[0]/1.75&&t>this.pos[1]-this.size[1]/1.75&&t<=this.pos[0]+this.size[0]/1.75&&(this.destroyed||(this.game.killedEnemies+=1),this.destroy())}destroy(){this.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580322609/tile014_smzvv7.png",this.destroyed=!0}},n=i(0),o=i.n(n);var h=class extends s{constructor(e){super(e),this.pos=[0,200],this.img=new Image,this.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580408046/ezgif.com-crop_akgdpb.gif",this.size=[100,100],this.damage=50,this.up=!0,this.timesHit=0}shootEnemy(e,t){e>this.pos[0]-this.size[0]/1.75&&e<=this.pos[0]+this.size[0]/1.75&&t>this.pos[1]-this.size[1]/1.75&&t<=this.pos[0]+this.size[0]/1.75&&(this.timesHit+=1,2===this.timesHit&&(this.destroyed||(this.game.killedEnemies+=1),this.destroy()))}destroy(){this.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580410322/ezgif.com-crop_1_rouon0.gif",this.destroyed=!0}};var a=class{constructor(e){this.canvas=e,e.width=1200,e.height=700,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="lightgreen",this.ctx.font="50px Comic Sans MS",this.enemies=[new s(this)],this.flyingEnemies=[],this.killedEnemies=0,this.health=1e3,this.score=0,this.difficulty=1e3,this.createEnemy=setInterval(()=>{Math.random()>.7&&this.enemies.push(new s(this))},this.difficulty),setTimeout(this.createFlyingEnemy=setInterval(()=>{Math.random()>.9&&this.flyingEnemies.push(new h(this))},this.difficulty),100)}drawEnemies(){this.enemies.map(e=>{e instanceof h||(e.destroyed?(this.killedEnemies+=1,this.difficulty=this.difficulty-2*this.killedEnemies,this.score+=e.damage,e.draw(),setTimeout(this.enemies.splice(this.enemies.indexOf(e),1),2e3)):(e.draw(),e.pos[0]+=10),e.pos[1]-=5,e.pos[1]<500&&(e.pos[1]+=10))}),this.flyingEnemies.map(e=>{e.destroyed?(this.killedEnemies+=1,this.difficulty=this.difficulty-2*this.killedEnemies,this.score+=e.damage,e.draw(),setTimeout(this.flyingEnemies.splice(this.flyingEnemies.indexOf(e),1),3e3)):e.up?(e.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580408046/ezgif.com-crop_akgdpb.gif",e.up=!1,e.draw(),e.pos[0]+=10):(e.img.src="https://res.cloudinary.com/justinlf55/image/upload/v1580408870/ezgif.com-crop_bikubg.gif",e.up=!0,e.draw(),e.pos[0]+=10),e.pos[1]<200?e.pos[1]+=40:e.pos[1]-=40})}move(e){e.clearRect(0,0,this.canvas.width,this.canvas.height),this.health<500&&this.health>250?this.ctx.fillStyle="orange":this.health<250&&(this.ctx.fillStyle="red"),e.fillText(`HP:${this.health}/1000`,50,50),e.fillText(`Score:${this.score}`,100,100),this.drawEnemies()}HP(){this.enemies.concat(this.flyingEnemies).forEach(e=>{e.pos[0]>=1150&&(this.health-=e.damage,this.enemies.splice(this.enemies.indexOf(e),1))}),this.health<10?alert("You lose"):setTimeout(()=>this.HP(),300)}start(){let e=this.ctx;setInterval(()=>{this.move(e)},this.difficulty-1e3)}play(){let e=this.enemies;document.getElementById("game-canvas").addEventListener("click",t=>{let i=new o.a(t.clientX,t.clientY);i.draw(),e.forEach(e=>{e.shootEnemy(i.mouse[0],i.mouse[1])})},!1);let t=this.flyingEnemies;document.getElementById("game-canvas").addEventListener("click",e=>{let i=new o.a(e.clientX,e.clientY);i.draw(),t.forEach(e=>{e.shootEnemy(i.mouse[0],i.mouse[1])})},!1)}};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("game-canvas");document.getElementById("start-button").addEventListener("click",t=>{document.getElementById("menu").style.display="none",console.log("test");const i=new a(e);i.start(),i.play(),i.HP()})})}]);
//# sourceMappingURL=bundle.js.map